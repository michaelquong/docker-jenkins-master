#
# Base image
FROM centos:7

#
# Install latest updates
RUN yum install -y && \
    yum clean all

#
# Install baseline tools
RUN yum install -y git && \
    yum install -y wget && \
    yum install -y openssh-server && \
    yum install -y java-1.8.0-openjdk && \
    yum install -y sudo

#
# Create Jenkins User
RUN useradd jenkins -m -s /bin/bash
RUN chown -R jenkins /home/jenkins
RUN chgrp -R jenkins /home/jenkins

#
# Add the jenkins user to sudoers
RUN echo "jenkins    ALL=(ALL)    ALL" >> etc/sudoers

#
# Standard SSH port
EXPOSE 22

CMD ["/usr/sbin/sshd"]
